# Отчет по лабораторной работе №4

## Что такое бинарное сортирующее дерево?

Бинарное сортирующее дерево - это двоичное дерево, для которого выполнены три условия:

+ Значение в любой вершине не меньше, чем значения её потомков.
+ Глубина всех листьев (расстояние до корня) отличается не более чем на 1 слой.
+ Последний слой заполняется слева направо без «дырок».

## Суть пирамидального алгоритма сортировки.

Сортировка пирамидой использует бинарное сортирующее дерево. Сортирующее дерево — это такое дерево, у которого выполнены условия:

+ Каждый лист имеет глубину либо d, либо d-1, d — максимальная глубина дерева.
+ Значение в любой вершине не меньше (другой вариант — не больше) значения её потомков.

1. Выстраиваем элементы массива в виде сортирующего дерева.

   ```cpp
   array[i] >= array[2 * i + 1]
   array[i] >= array[2 * i + 2]
   // при 0 <= i <= n / 2
   ```

2. Будем удалять элементы из корня по одному за раз и перестраивать дерево.
   То есть на первом шаге обмениваем array[0] и array[n-1],  преобразовываем array[0], array[1], … , array[n-2] в сортирующее дерево. Затем переставляем Array[0] и Array[n-2], преобразовываем Array[0], Array[1], … , Array[n-3] в сортирующее дерево. Процесс продолжается до тех пор, пока в сортирующем дереве не останется один элемент.

## В чем разница устойчивой и неустойчивой сортировки?

Неустойчивая сортировка не может работать с большими объёмами данных из-за угрозы переполнения стека.

Устойчивая сортировка имеет постоянную вычислительную сложность O(n), в то время как неустойчивая варьируется в зависимости от исходных данных.

Устойчивая сортировка не меняет "местами" эквивалентные элементы.

При неустойчивой сортировке теряется порядок элементов, имеющих одинаковые ключи, этим страдают сортировки пирамидой и методом Хоара. При устойчивой сортировке относительный порядок элементов с одинаковыми ключами сохраняется.

## Достоинства

+ Имеет доказанную оценку худшего случая O(n * log n)
+ Сортирует на месте, то есть требует всего O(1) дополнительной памяти (если дерево организовывать так, как показано выше).

## Недостатки

+ Неустойчив — для обеспечения устойчивости нужно расширять ключ.
+ На почти отсортированных массивах работает столь же долго, как и на хаотических данных.
+ На одном шаге выборку приходится делать хаотично по всей длине массива — поэтому алгоритм плохо сочетается с кэшированием и подкачкой памяти.
+ Методу требуется «мгновенный» прямой доступ; не работает на связанных списках и других структурах памяти последовательного доступа.
+ Не распараллеливается.
