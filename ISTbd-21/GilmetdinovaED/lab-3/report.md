# Лабораторная работа №3

## ГильметдиноваЕД ИСТбд-21

## Цель

реализовать сортировку методом Хоара.

## Ход работы

_Реализация_:  
void Hoar_sort(int* massiv, int first, int last)
{

	int i = first, j = last;//указатель на начало и конец массива
	int tmp = 0; // буфер обмена
	int x = massiv[(first + last) / 2];//опорный элемент
   
   //сортировка  
	do {  
		while (massiv[i] < x) //начиная с 1 элемента сравниваются значения с центральным элементом  
			i++;  
		while (massiv[j] > x) //начиная с последнего элемента сравниваются значения с центральным элементом  
			j--;

		if (i <= j) // обмен элементов
		{
				tmp = massiv[i];
				massiv[i] = massiv[j];
				massiv[j] = tmp;

			i++;
			j--;
		}
	} while (i <= j);

	if (i < last)// Рекурсивно вызываем сортировку для левой и правой части массива
		Hoar_sort(massiv, i, last);
	if (first < j)
		Hoar_sort(massiv, first, j);
}

## Контрольные вопросы

### Кто такой Чарльз Хоар? Чем он известен?

 Чарльз Хоар  - английский ученый, специализирующийся в области информатики и вычислительной техники. Наиболее известен как разработчик алгоритма «быстрой сортировки» (1960), на сегодняшний день являющегося наиболее популярным алгоритмом сортировки.

### Общее описание метода Хоара

Выбирается опорный элемент, с которым сравнивают все остальные элементы. Массив разделяется на 2 части: «меньшие опорного» и «равные и большие». Для отрезков «меньших» и «больших» значений выполняется рекурсивно ту же последовательность операций, если длина отрезка больше единицы

### Алгоритм метода Хоара

Шаг 1. Выбрать опорный элемент из массива.  
Шаг 2. Разбиение: перераспределение элементов в массиве таким образом, что элементы меньше опорного помещаются перед ним, а больше или равные после.  
Шаг 3. Рекурсивно применить первые два шага к двум подмассивам слева и справа от опорного элемента. Рекурсия не применяется к массиву, в котором только один элемент или отсутствуют элементы.

### Как происходит выбор опорного пункта

Для наилучшей сортировки опорный элемент должен быть медианой, но её вычисление слишком трудоёмко для использования в сортировке. Поэтому в основном выбираются средний или случайный элемент.

### Разбиение Ломуто

В данном алгоритме опорным выбирается последний элемент. Алгоритм хранит индекс в переменной i. Каждый раз, когда находится элемент, меньше или равный опорному, индекс увеличивается, и элемент вставляется перед опорным. 

### Разбиение Хоара

Данный алгоритм использует два индекса (один в начале массива, другой в конце), которые приближаются друг к другу, пока не найдётся пара элементов, где один больше опорного и расположен перед ним, а второй меньше и расположен после. Эти элементы меняются местами. Обмен происходит до тех пор, пока индексы не пересекутся. Алгоритм возвращает последний индекс.

### Достоинства и недостатки

Достоинства:  
* Один из самых быстродействующих из алгоритмов внутренней сортировки общего назначения.  
* Алгоритм очень короткий: запомнив основные моменты, его легко написать «из головы».

Недостатки:  
* Может оказаться малоэффективной на массивах, состоящих из небольшого числа элементов, поэтому при работе с ними разумнее отказаться от данного метода. 
* В целом алгоритм неустойчив, а также использование рекурсии в неверно составленном коде может привести к переполнению стека.

### Интересные факты метода Хоара

* Хоар разработал алгоритм во время его работы в МГУ в 1960 году.
* Метод основан на подходе "разделяй-и-властвуй"